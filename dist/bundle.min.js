function SendXhrData(e){return new Promise(((o,t)=>{const n=new XMLHttpRequest;n.open(e.method,e.url),e.reqHeaders&&e.reqHeaders.forEach((e=>{""!==e.header&&""!==e.value&&(console.log(`Setting custom request header '${e.header}, ${e.value}'`),n.setRequestHeader(e.header,e.value))})),n.responseType=e.respType,n.addEventListener("loadend",(s=>{n.status>=200&&n.status<300?(o(n.response),e.consoleInfo&&console.group(e.consoleInfo),console.log(`${s.loaded} bytes loaded.`),e.consoleInfo&&console.groupEnd()):t(new Error(`HTML status code ${n.status}`))})),n.addEventListener("error",(o=>{t(new Error("jXhr: failed to send request!")),e.consoleInfo&&console.group(e.consoleInfo),console.log(o),console.error(`xhr.status ${n.status}`),e.consoleInfo&&console.groupEnd()})),n.addEventListener("progress",(o=>{if(o.lengthComputable){const t=o.loaded/o.total*100;e.progress&&e.progress(t)}else e.progress&&e.progress(-1)})),n.send(e.data)}))}const SendXhrData1=SendXhrData,test=document.querySelector(".test"),loadButton=document.querySelector("#loadButton"),data=new FormData;async function TryToSendData(){let e;const o={method:"post",url:"https://raw.githubusercontent.com/mdn/content/main/files/en-us/_wikihistory.json",data:"my test",respType:"json",reqHeaders:[],consoleInfo:"Connecting..."};try{e=await SendXhrData1(o),e&&200===e.status?console.log("JSON response with 200, good! JSON below."):console.log("HTML response OK, but JSON response.status not 200. JSON below.")}catch(e){console.log("TryToSendForm error: something went wrong..."),console.error(e)}}function OnLoadClick(){console.log("start OnLoadClick"),TryToSendData(),console.log("end OnLoadClick")}test?test.innerText="blabla":alert("test nejde"),loadButton&&loadButton.addEventListener("click",OnLoadClick);